<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Environment Variables - BundleWrap</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../css/brands.min.css" rel="stylesheet">
        <link href="../../css/solid.min.css" rel="stylesheet">
        <link href="../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <link href="../../bundlewrap.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">BundleWrap</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href="../.." class="nav-link"><i class="fa fa-home"></i></a>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle active" aria-current="page" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Guides</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../quickstart/" class="dropdown-item">Quickstart</a>
</li>
                                    
<li>
    <a href="../installation/" class="dropdown-item">Installation</a>
</li>
                                    
<li>
    <a href="../cli/" class="dropdown-item">CLI</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active" aria-current="page">Environment Variables</a>
</li>
                                    
<li>
    <a href="../item_file_templates/" class="dropdown-item">File templates</a>
</li>
                                    
<li>
    <a href="../secrets/" class="dropdown-item">Handling secrets</a>
</li>
                                    
<li>
    <a href="../locks/" class="dropdown-item">Locking</a>
</li>
                                    
<li>
    <a href="../kubernetes/" class="dropdown-item">Kubernetes</a>
</li>
                                    
<li>
    <a href="../dev_item/" class="dropdown-item">Custom items</a>
</li>
                                    
<li>
    <a href="../api/" class="dropdown-item">Python API</a>
</li>
                                    
<li>
    <a href="../os_compatibility/" class="dropdown-item">OS compatibility</a>
</li>
                                    
<li>
    <a href="../toml/" class="dropdown-item">TOML nodes and groups</a>
</li>
                                    
<li>
    <a href="../selectors/" class="dropdown-item">Selectors</a>
</li>
                                    
<li>
    <a href="../migrate_12/" class="dropdown-item">Migrating to 2.0</a>
</li>
                                    
<li>
    <a href="../migrate_23/" class="dropdown-item">Migrating to 3.0</a>
</li>
                                    
<li>
    <a href="../migrate_34/" class="dropdown-item">Migrating to 4.0</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Repository</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../repo/layout/" class="dropdown-item">Overview</a>
</li>
                                    
<li>
    <a href="../../repo/nodes.py/" class="dropdown-item">nodes.py</a>
</li>
                                    
<li>
    <a href="../../repo/groups.py/" class="dropdown-item">groups.py</a>
</li>
                                    
<li>
    <a href="../../repo/requirements.txt/" class="dropdown-item">requirements.txt</a>
</li>
                                    
<li>
    <a href="../../repo/bundle.py/" class="dropdown-item">bundles/.../bundle.py</a>
</li>
                                    
<li>
    <a href="../../repo/items.py/" class="dropdown-item">bundles/.../items.py</a>
</li>
                                    
<li>
    <a href="../../repo/metadata.py/" class="dropdown-item">bundles/.../metadata.py</a>
</li>
                                    
<li>
    <a href="../../repo/hooks/" class="dropdown-item">hooks/</a>
</li>
                                    
<li>
    <a href="../../repo/libs/" class="dropdown-item">libs/</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Items</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../items/action/" class="dropdown-item">action</a>
</li>
                                    
<li>
    <a href="../../items/dconf/" class="dropdown-item">dconf</a>
</li>
                                    
<li>
    <a href="../../items/directory/" class="dropdown-item">directory</a>
</li>
                                    
<li>
    <a href="../../items/file/" class="dropdown-item">file</a>
</li>
                                    
<li>
    <a href="../../items/git_deploy/" class="dropdown-item">git_deploy</a>
</li>
                                    
<li>
    <a href="../../items/group/" class="dropdown-item">group</a>
</li>
                                    
<li>
    <a href="../../items/k8s/" class="dropdown-item">k8s_*</a>
</li>
                                    
<li>
    <a href="../../items/pkg_apk/" class="dropdown-item">pkg_apk</a>
</li>
                                    
<li>
    <a href="../../items/pkg_apt/" class="dropdown-item">pkg_apt</a>
</li>
                                    
<li>
    <a href="../../items/pkg_dnf/" class="dropdown-item">pkg_dnf</a>
</li>
                                    
<li>
    <a href="../../items/pkg_freebsd/" class="dropdown-item">pkg_freebsd</a>
</li>
                                    
<li>
    <a href="../../items/pkg_openbsd/" class="dropdown-item">pkg_openbsd</a>
</li>
                                    
<li>
    <a href="../../items/pkg_opkg/" class="dropdown-item">pkg_opkg</a>
</li>
                                    
<li>
    <a href="../../items/pkg_pacman/" class="dropdown-item">pkg_pacman</a>
</li>
                                    
<li>
    <a href="../../items/pkg_pamac/" class="dropdown-item">pkg_pamac</a>
</li>
                                    
<li>
    <a href="../../items/pkg_pip/" class="dropdown-item">pkg_pip</a>
</li>
                                    
<li>
    <a href="../../items/pkg_snap/" class="dropdown-item">pkg_snap</a>
</li>
                                    
<li>
    <a href="../../items/pkg_yum/" class="dropdown-item">pkg_yum</a>
</li>
                                    
<li>
    <a href="../../items/pkg_zypper/" class="dropdown-item">pkg_zypper</a>
</li>
                                    
<li>
    <a href="../../items/postgres_db/" class="dropdown-item">postgres_db</a>
</li>
                                    
<li>
    <a href="../../items/postgres_role/" class="dropdown-item">postgres_role</a>
</li>
                                    
<li>
    <a href="../../items/routeros/" class="dropdown-item">routeros</a>
</li>
                                    
<li>
    <a href="../../items/svc_freebsd/" class="dropdown-item">svc_freebsd</a>
</li>
                                    
<li>
    <a href="../../items/svc_openbsd/" class="dropdown-item">svc_openbsd</a>
</li>
                                    
<li>
    <a href="../../items/svc_openrc/" class="dropdown-item">svc_openrc</a>
</li>
                                    
<li>
    <a href="../../items/svc_systemd/" class="dropdown-item">svc_systemd</a>
</li>
                                    
<li>
    <a href="../../items/svc_systemv/" class="dropdown-item">svc_systemv</a>
</li>
                                    
<li>
    <a href="../../items/svc_upstart/" class="dropdown-item">svc_upstart</a>
</li>
                                    
<li>
    <a href="../../items/symlink/" class="dropdown-item">symlink</a>
</li>
                                    
<li>
    <a href="../../items/user/" class="dropdown-item">user</a>
</li>
                                    
<li>
    <a href="../../items/zfs_dataset/" class="dropdown-item">zfs_dataset</a>
</li>
                                    
<li>
    <a href="../../items/zfs_pool/" class="dropdown-item">zfs_pool</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Misc</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../misc/about/" class="dropdown-item">About</a>
</li>
                                    
<li>
    <a href="../../misc/deciding/" class="dropdown-item">Why BundleWrap</a>
</li>
                                    
<li>
    <a href="../../misc/glossary/" class="dropdown-item">Glossary</a>
</li>
                                    
<li>
    <a href="../../misc/faq/" class="dropdown-item">FAQ</a>
</li>
                                    
<li>
    <a href="../../misc/contributing/" class="dropdown-item">Contributing</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../cli/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../item_file_templates/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="https://github.com/bundlewrap/bundlewrap/edit/master/docs/guide/env.md" class="nav-link"><i class="fa-brands fa-github"></i> Edit on GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#environment-variables" class="nav-link">Environment Variables</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#bw_add_host_keys" class="nav-link">BW_ADD_HOST_KEYS</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#bw_colors" class="nav-link">BW_COLORS</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#bw_debug_log_dir" class="nav-link">BW_DEBUG_LOG_DIR</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#bw_git_deploy_cache" class="nav-link">BW_GIT_DEPLOY_CACHE</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#bw_hardlock_expiry" class="nav-link">BW_HARDLOCK_EXPIRY</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#bw_identity" class="nav-link">BW_IDENTITY</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#bw_item_workers-and-bw_node_workers" class="nav-link">BW_ITEM_WORKERS and BW_NODE_WORKERS</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#bw_max_metadata_iterations" class="nav-link">BW_MAX_METADATA_ITERATIONS</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#bw_repo_path" class="nav-link">BW_REPO_PATH</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#bw_softlock_expiry" class="nav-link">BW_SOFTLOCK_EXPIRY</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#bw_ssh_args" class="nav-link">BW_SSH_ARGS</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#bw_scp_args" class="nav-link">BW_SCP_ARGS</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#bw_table_style" class="nav-link">BW_TABLE_STYLE</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#bw_vault_dummy_mode" class="nav-link">BW_VAULT_DUMMY_MODE</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="environment-variables">Environment Variables</h1>
<h2 id="bw_add_host_keys"><code>BW_ADD_HOST_KEYS</code></h2>
<p>As BundleWrap uses OpenSSH to connect to hosts, host key checking is involved. By default, strict host key checking is activated. This might not be suitable for your setup. You can set this variable to <code>1</code> to cause BundleWrap to set the OpenSSH option <code>StrictHostKeyChecking=no</code>.</p>
<p>You can also use <code>bw -a ...</code> to achieve the same effect.</p>
<p><br></p>
<h2 id="bw_colors"><code>BW_COLORS</code></h2>
<p>Colors are enabled by default. Setting this variable to <code>0</code> tells BundleWrap to never use any ANSI color escape sequences.</p>
<p><br></p>
<h2 id="bw_debug_log_dir"><code>BW_DEBUG_LOG_DIR</code></h2>
<p>Set this to an existing directory path to have BundleWrap write debug logs there (even when you're running <code>bw</code> without <code>--debug</code>).</p>
<div class="alert alert-info">Debug logs are verbose and BundleWrap does not rotate them for you. Putting them on a tmpfs or ramdisk will save your SSD and get rid of old logs every time you reboot your machine.</div>

<p><br></p>
<h2 id="bw_git_deploy_cache"><code>BW_GIT_DEPLOY_CACHE</code></h2>
<p>Optional cache directory for <a href="../../items/git_deploy/#bw_git_deploy_cache"><code>git_deploy</code></a> items.</p>
<p><br></p>
<h2 id="bw_hardlock_expiry"><code>BW_HARDLOCK_EXPIRY</code></h2>
<p><a href="../locks/">Hard locks</a> are automatically ignored after some time. By default, it's <code>"8h"</code>. You can use this variable to override that default.</p>
<p><br></p>
<h2 id="bw_identity"><code>BW_IDENTITY</code></h2>
<p>When BundleWrap <a href="../locks/">locks</a> a node, it stores a short description about "you". By default, this is the string <code>$USER@$HOSTNAME</code>, e.g. <code>john@mymachine</code>. You can use <code>BW_IDENTITY</code> to specify a custom string. (No variables will be evaluated in user supplied strings.)</p>
<p><br></p>
<h2 id="bw_item_workers-and-bw_node_workers"><code>BW_ITEM_WORKERS</code> and <code>BW_NODE_WORKERS</code></h2>
<p>BundleWrap attempts to parallelize work. These two options specify the number of nodes and items, respectively, which will be handled concurrently. To be more precise, when setting <code>BW_NODE_WORKERS=8</code> and <code>BW_ITEM_WORKERS=2</code>, BundleWrap will work on eight nodes in parallel, each handling two items in parallel.</p>
<p>You can also use the command line options <code>-p</code> and <code>-P</code>, e.g. <code>bw apply -p ... -P ... ...</code>, to achieve the same effect. Command line arguments override environment variables.</p>
<p>There is no single default for these values. For example, when running <code>bw apply</code>, four nodes are being handled by default. However, when running <code>bw test</code>, only one node will be tested by default. <code>BW_NODE_WORKERS</code> and <code>BW_ITEM_WORKERS</code> apply to <em>all</em> these operations.</p>
<p>Note that you should not set these variables to very high values. First, it can cause high memory consumption on your machine. Second, not all SSH servers can handle massive parallelism. Please refer to your OpenSSH documentation on how to tune your servers for these situations.</p>
<p><br></p>
<h2 id="bw_max_metadata_iterations"><code>BW_MAX_METADATA_ITERATIONS</code></h2>
<p>Sets the limit of how often metadata reactors will be run for a node before BundleWrap calls it a loop and terminates with an exception. Defaults to <code>1000</code>.</p>
<p><br></p>
<h2 id="bw_repo_path"><code>BW_REPO_PATH</code></h2>
<p>Set this to a path pointing to your BundleWrap repository. If unset, the current working directory is used. Can be overridden with <code>bw --repository PATH</code>. Keep in mind that <code>bw</code> will also look for a repository in all parent directories until it finds one.</p>
<p><br></p>
<h2 id="bw_softlock_expiry"><code>BW_SOFTLOCK_EXPIRY</code></h2>
<p><a href="../locks/">Soft locks</a> are automatically removed from nodes after some time. By default, it's <code>"8h"</code>. You can use this variable to override that default.</p>
<p><br></p>
<h2 id="bw_ssh_args"><code>BW_SSH_ARGS</code></h2>
<p>Extra arguments to include in every call to <code>ssh</code> BundleWrap makes. Set this to "-F ~/.ssh/otherconf" to use a different SSH config with BundleWrap. Defaults to <code>""</code>.</p>
<p><br></p>
<h2 id="bw_scp_args"><code>BW_SCP_ARGS</code></h2>
<p>Extra arguments to include in every call to <code>scp</code> BundleWrap makes. Defaults to the value of <code>BW_SSH_ARGS</code>.</p>
<p><br></p>
<h2 id="bw_table_style"><code>BW_TABLE_STYLE</code></h2>
<p>By default, BundleWrap uses Unicode box-drawing characters at various points in its output. Setting this env var to one of the following values changes that behavior:</p>
<table>
<tr><td><code>ascii</code></td><td>use only simple ASCII characters to render tables (useful if your font doesn't properly align box-drawing characters)</td></tr>
<tr><td><code>csv</code></td><td>comma-separated values</td></tr>
<tr><td><code>grep</code></td><td>make output more <code>grep</code>- and <code>cut</code>-friendly</td></tr>
</table>

<p><br></p>
<h2 id="bw_vault_dummy_mode"><code>BW_VAULT_DUMMY_MODE</code></h2>
<p>Setting this to <code>1</code> will make <code>repo.vault</code> return dummy values for every <a href="../secrets/">secret</a>. This is useful for running <code>bw test</code> on a CI server that you don't want to trust with your <code>.secrets.cfg</code>.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>BundleWrap is published under the <a href='https://github.com/bundlewrap/bundlewrap/blob/master/LICENSE'>GPL license</a>.</p></p>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
